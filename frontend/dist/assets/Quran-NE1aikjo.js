import{r as M,j as m,a as Sn,g as Kn}from"./index-C7TWuIRN.js";import{c as Ke,a as z,g as Rn,C as qt,f as Xt,h as Zn,b as Tt,d as wn,e as Nn,i as Qn,j as Jn,u as er,N as tr}from"./useChaptersList-DZFawrB_.js";/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nr=[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]],rr=Ke("arrow-left-right",nr);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ar=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["line",{x1:"12",x2:"12",y1:"16",y2:"12",key:"1y1yb1"}],["line",{x1:"12",x2:"12.01",y1:"8",y2:"8",key:"110wyk"}]],ir=Ke("badge-info",ar);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const or=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],sr=Ke("check",or);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],cr=Ke("chevron-down",lr),se=44,Se=7,ur=({description:e,currentVal:r,data:s})=>{const o=z(E=>E.updateCurrentState),[c,f]=M.useState(!1),[y,u]=M.useState(null),[a,i]=M.useState({start:0,end:34}),[d]=M.useState(window.innerWidth>=768),h=M.useRef(null),_=M.useRef(null),[S,x]=M.useMemo(()=>{const E=r?Object.entries(r):[];return E.length>0?E[0]:[null,null]},[r]),b=M.useMemo(()=>x?.id!==void 0?Number(x.id):x!=null?S==="scholar_id"?x:Number(x):null,[x]),T=M.useMemo(()=>Array.isArray(s)?s.filter(E=>E&&typeof E=="object"):[],[s]),R=M.useMemo(()=>{if(T.length===0)return String(x||"");const E=T.find(A=>Number(A.id)===b);return E?E.name?`${E.id} - ${E.name}`:String(E.id):String(x||"")},[T,b,x]),v=M.useCallback(async E=>{if(!S)return;const A=E?.id!==void 0?E.id:E;o({[S]:A}),S==="surah_id"&&o({verse_id:1}),f(!1),u(null)},[S,o]),w=M.useCallback(()=>f(E=>!E),[]);M.useEffect(()=>{if(!c)return;const E=A=>{h.current&&!h.current.contains(A.target)&&f(!1)};return document.addEventListener("mousedown",E),()=>document.removeEventListener("mousedown",E)},[c]);const O=M.useCallback(E=>{if(T.length===0)return;const{scrollTop:A,clientHeight:D}=E.target,L=Math.ceil(D/se),G=Math.max(0,Math.floor(A/se)-Se),P=Math.min(T.length,G+L+Se*2);i({start:G,end:P})},[T.length]);M.useEffect(()=>{if(!c||T.length===0||!_.current)return;const E=T.findIndex(L=>Number(L.id)===b),A=_.current.clientHeight||se*8,D=Math.max(1,Math.ceil(A/se));if(E>=0){const L=Math.max(0,E-Math.floor(D/2)-Se),G=Math.min(T.length,L+D+Se*2);i({start:L,end:G});const P=Math.max(0,E*se-Math.floor(A/2));requestAnimationFrame(()=>{_.current.scrollTop=P})}else i({start:0,end:Math.min(T.length,D+Se*2)})},[c,T,b]);const t=T.slice(a.start,a.end),l=a.start*se,p=Math.max(0,T.length-a.end)*se;return m.jsxs("div",{className:"relative",ref:h,children:[m.jsx("button",{onClick:w,className:`
                    bg-[var(--bg)] w-full py-2 px-3 md:px-4 border-2 rounded-2xl shadow-lg
                    transition-all duration-250 ease-out transform hover:scale-[1.02]
                    ${c?"border-[var(--second-bg)]":"border-[var(--third-bg)]"}
                `,children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("span",{className:"text-xs md:text-sm font-semibold text-[var(--second)]",children:S==="scholar_id"?R:e+" "+R}),m.jsx(cr,{size:20,className:`
                            text-[var(--third)] ml-2 transition-all duration-250
                            ${c?"rotate-180 scale-110":""}
                        `})]})}),c&&m.jsx("div",{className:"absolute top-full sm:w-[max-content] right-0 mt-3 border-2 border-[var(--third-bg)] rounded-2xl shadow-xl z-50 overflow-hidden",children:m.jsx("div",{ref:_,onScroll:O,className:"max-h-80 overflow-y-auto",children:T.length>0?m.jsxs("div",{style:{position:"relative"},children:[l>0&&m.jsx("div",{style:{height:l}}),t.map((E,A)=>{const D=a.start+A,L=b!==null&&E.id==b,G=y?.id===E.id;return m.jsxs("button",{onClick:()=>v(E),onMouseEnter:()=>u(E),onMouseLeave:()=>u(null),className:`
                                                w-full px-4 py-3 text-left flex items-center justify-between gap-2
                                                transition-all duration-200 h-auto
                                                ${L?"bg-[var(--primary-bg)] text-[var(--verse)]":"bg-[var(--third-bg)] text-[var(--second)]"}
                                                ${D!==T.length-1?"border-b border-[var(--second-bg)]":""}
                                            `,style:{height:d?se:"auto"},children:[m.jsx("span",{className:`text-sm font-medium transition-transform ${G?"translate-x-1":""}`,children:S==="scholar_id"?`${E.name}`:`${E.id}${E.name?` - ${E.name}`:""}`}),m.jsx(sr,{size:20,className:`
                                                    transition-all duration-200
                                                    ${L?"text-[var(--verse)]":"text-[var(--third)]"}
                                                    ${G||L?"opacity-100 scale-100":"opacity-0 scale-75"}
                                                `})]},`${E.id}-${D}`)}),p>0&&m.jsx("div",{style:{height:p}})]}):m.jsx("div",{className:"px-4 py-3 text-center text-gray-500 text-sm",children:"No items"})})})]})},Xe=M.memo(ur),Pe=({children:e,content:r})=>{const[s,o]=M.useState(!1);return M.useEffect(()=>{if(!document.getElementById("tooltip-animation-style")){const c=document.createElement("style");c.id="tooltip-animation-style",c.textContent=`
              @keyframes scale-subtle {
                0% { 
                  opacity: 0; 
                  transform: translateX(-50%) scale(0.9);
                }
                100% { 
                  opacity: 1; 
                  transform: translateX(-50%) scale(1);
                }
              }
              .animate-scale-subtle {
                animation: scale-subtle 0.2s cubic-bezier(0.16, 1, 0.3, 1) forwards;
              }
            `,document.head.appendChild(c)}},[]),m.jsxs("div",{className:"relative inline-block",children:[m.jsx("div",{onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),className:"cursor-pointer",children:e}),s&&m.jsxs("div",{className:"absolute top-full mt-2 left-1/2 mb-2 px-3 py-2 bg-gray-800 text-white text-sm rounded-lg shadow-lg animate-scale-subtle",style:{width:"auto",maxWidth:"14rem",whiteSpace:r.split(" ").length<=2?"nowrap":"normal"},children:[m.jsx("span",{className:"font-medium",children:r}),m.jsx("div",{className:"absolute bottom-full left-1/2 -ml-1 w-2 h-2 bg-gray-800 transform rotate-45"})]})]})};function Cn({textDirection:e,component:r,decrease:s,increase:o,hideNext:c,hidePrevious:f,obj:{val:y,surahId:u=0,max:a=0},tooltipNext:i,tooltipPrevious:d}){const h=z(A=>A.decreaseSurahId),_=z(A=>A.increaseSurahId),S=z(A=>A.updateCurrentState),x=M.useRef(!1),[b,T]=M.useState(!1),[R,v]=M.useState(!1),w=2e3,O=M.useCallback(A=>{const D=Date.now()-A,L=Math.max(0,w-D);setTimeout(()=>{v(!1),x.current=!1,T(!1)},L)},[w]),t=M.useCallback(async A=>{if(A==="previous"){if(y>1&&u>=1)await s();else if(y===1&&u>1){const D=await Rn(u-1);await h(),D?.verses_count&&setTimeout(()=>{S({verse_id:D.verses_count})},100)}}else A==="next"&&(y<a?await o():y===a&&u<114&&(await _(),S({verse_id:1})))},[y,u,a,s,o,h,_,S]),l=M.useCallback(async()=>{if(x.current)return;x.current=!0,T(!0),v(!0);const A=Date.now();try{u===0&&y>1&&await s()}catch(D){console.error("Error during navigation:",D)}finally{O(A)}},[u,y,s,t,O]),p=M.useCallback(async()=>{if(x.current)return;x.current=!0,T(!0),v(!0);const A=Date.now();try{u===0?y<604&&await o():await t("next")}catch(D){console.error("Error during navigation:",D)}finally{O(A)}},[u,y,o,t,O]),E=M.useCallback(async A=>{if(A.key!=="ArrowLeft"&&A.key!=="ArrowRight"||x.current||["INPUT","TEXTAREA","SELECT"].includes(A.target.tagName))return;x.current=!0,T(!0),v(!0);const D=Date.now();try{A.preventDefault(),A.key==="ArrowRight"&&e==="rtl"||A.key==="ArrowLeft"&&e==="ltr"?await t("previous"):(A.key==="ArrowLeft"&&e==="rtl"||A.key==="ArrowRight"&&e==="ltr")&&await t("next")}catch(L){console.error("Error during keyboard navigation:",L)}finally{O(D)}},[t,O,e]);return M.useEffect(()=>(window.addEventListener("keydown",E),()=>{v(!1),window.removeEventListener("keydown",E)}),[E]),m.jsx("div",{className:"flex justify-center items-center gap-6",children:e==="ltr"?m.jsxs(m.Fragment,{children:[m.jsx(Pe,{content:d,children:m.jsx("button",{onClick:l,disabled:R||f,className:`
                              group relative overflow-hidden
                              w-8 h-8 rounded-full
                              bg-gradient-to-r from-[var(--btn2-f)] to-[var(--btn2-t)]
                              transition-all duration-300 ease-out
                              hover:scale-110 hover:shadow-lg hover:shadow-[var(--btn1-f)]
                              active:scale-95
                              ${f||b?"opacity-30 !cursor-not-allowed":"opacity-100 cursor-pointer"}
                            `,children:m.jsx("div",{className:"relative flex items-center justify-center w-full h-full bg-gradient-to-r from-[var(--btn2-f)] to-[var(--btn2-t)] rounded-full",children:m.jsx(qt,{className:`
                                      w-5 h-5 text-white transition-transform duration-200 ease-out
                                      group-hover:-translate-x-1 group-active:scale-75
                                    `})})})}),r,m.jsx(Pe,{content:i,children:m.jsx("button",{onClick:p,disabled:R||c,className:`
                              group relative overflow-hidden
                              w-8 h-8 rounded-full
                              bg-gradient-to-r from-[var(--btn1-f)] to-[var(--btn1-t)]
                              transition-all duration-300 ease-out
                              hover:scale-110 hover:shadow-lg hover:shadow-[var(--btn1-f)]
                              active:scale-95
                              ${c||b?"opacity-30 !cursor-not-allowed":"opacity-100 cursor-pointer"}
                            `,children:m.jsx("div",{className:"relative flex items-center justify-center w-full h-full bg-gradient-to-r from-[var(--btn1-f)] to-[var(--btn1-t)] rounded-full",children:m.jsx(Xt,{className:`
                                  w-5 h-5 text-white transition-transform duration-200 ease-out
                                  group-hover:translate-x-1 group-active:scale-75
                                `})})})})]}):m.jsxs(m.Fragment,{children:[m.jsx(Pe,{content:i,children:m.jsx("button",{onClick:p,disabled:R||c,className:`
                              group relative overflow-hidden
                              w-8 h-8 rounded-full
                              bg-gradient-to-r from-[var(--btn1-f)] to-[var(--btn1-t)]
                              transition-all duration-300 ease-out
                              hover:scale-110 hover:shadow-lg hover:shadow-[var(--btn1-f)]
                              active:scale-95
                              ${c||b?"opacity-30 !cursor-not-allowed":"opacity-100 cursor-pointer"}
                            `,children:m.jsx("div",{className:"relative flex items-center justify-center w-full h-full bg-gradient-to-r from-[var(--btn1-f)] to-[var(--btn1-t)] rounded-full",children:m.jsx(qt,{className:`
                                  w-5 h-5 text-white transition-transform duration-200 ease-out
                                  group-hover:-translate-x-1 group-active:scale-75
                                `})})})}),r,m.jsx(Pe,{content:d,children:m.jsx("button",{onClick:l,disabled:R||f,className:`
                              group relative overflow-hidden
                              w-8 h-8 rounded-full
                              bg-gradient-to-r from-[var(--btn2-f)] to-[var(--btn2-t)]
                              transition-all duration-300 ease-out
                              hover:scale-110 hover:shadow-lg hover:shadow-[var(--btn1-f)]
                              active:scale-95
                              ${f||b?"opacity-30 !cursor-not-allowed":"opacity-100 cursor-pointer"}
                            `,children:m.jsx("div",{className:"relative flex items-center justify-center w-full h-full bg-gradient-to-r from-[var(--btn2-f)] to-[var(--btn2-t)] rounded-full",children:m.jsx(Xt,{className:`
                                  w-5 h-5 text-white transition-transform duration-200 ease-out
                                  group-hover:translate-x-1 group-active:scale-75
                                `})})})})]})})}const Yt=e=>!e||e<1?[]:Array.from({length:e},(r,s)=>({id:s+1,name:""})),fr=(e,r)=>!e||e.length===0?Array.from({length:114},(s,o)=>({id:o+1,name:`Surah ${o+1}`})):e.map(s=>({id:s.id,name:r==="ar"?s.name_arabic:s.translated_name?.name})),dr=(e,r,s,o,c)=>{const[f,y]=M.useState([]),[u,a]=M.useState(!1),i=M.useRef(!0),d=M.useRef(e);return M.useEffect(()=>{let h=!0;return(async()=>{a(!0);try{const S=await Zn(e,c);if(!h||!S||S.length===0)return;if(y(S),d.current!==e&&!i.current){const b=S[0],T=Number(b.verse_key.split(":")[0]),R=Number(b.verse_key.split(":")[1]);S.some(w=>{const[O,t]=w.verse_key.split(":").map(Number);return O===r&&t===s})||o({surah_id:T,verse_id:R})}d.current=e,i.current=!1}catch(S){console.error("Failed to fetch verses:",S)}finally{h&&a(!1)}})(),()=>{h=!1}},[e,c]),{pageVerses:f,isLoading:u}};var Re={},_e={},Ve={},ue={},fe={},ct={},Kt;function On(){return Kt||(Kt=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Doctype=e.CDATA=e.Tag=e.Style=e.Script=e.Comment=e.Directive=e.Text=e.Root=e.isTag=e.ElementType=void 0;var r;(function(o){o.Root="root",o.Text="text",o.Directive="directive",o.Comment="comment",o.Script="script",o.Style="style",o.Tag="tag",o.CDATA="cdata",o.Doctype="doctype"})(r=e.ElementType||(e.ElementType={}));function s(o){return o.type===r.Tag||o.type===r.Script||o.type===r.Style}e.isTag=s,e.Root=r.Root,e.Text=r.Text,e.Directive=r.Directive,e.Comment=r.Comment,e.Script=r.Script,e.Style=r.Style,e.Tag=r.Tag,e.CDATA=r.CDATA,e.Doctype=r.Doctype})(ct)),ct}var k={},Zt;function Qt(){if(Zt)return k;Zt=1;var e=k&&k.__extends||(function(){var t=function(l,p){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,A){E.__proto__=A}||function(E,A){for(var D in A)Object.prototype.hasOwnProperty.call(A,D)&&(E[D]=A[D])},t(l,p)};return function(l,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");t(l,p);function E(){this.constructor=l}l.prototype=p===null?Object.create(p):(E.prototype=p.prototype,new E)}})(),r=k&&k.__assign||function(){return r=Object.assign||function(t){for(var l,p=1,E=arguments.length;p<E;p++){l=arguments[p];for(var A in l)Object.prototype.hasOwnProperty.call(l,A)&&(t[A]=l[A])}return t},r.apply(this,arguments)};Object.defineProperty(k,"__esModule",{value:!0}),k.cloneNode=k.hasChildren=k.isDocument=k.isDirective=k.isComment=k.isText=k.isCDATA=k.isTag=k.Element=k.Document=k.CDATA=k.NodeWithChildren=k.ProcessingInstruction=k.Comment=k.Text=k.DataNode=k.Node=void 0;var s=On(),o=(function(){function t(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(t.prototype,"parentNode",{get:function(){return this.parent},set:function(l){this.parent=l},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"previousSibling",{get:function(){return this.prev},set:function(l){this.prev=l},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextSibling",{get:function(){return this.next},set:function(l){this.next=l},enumerable:!1,configurable:!0}),t.prototype.cloneNode=function(l){return l===void 0&&(l=!1),w(this,l)},t})();k.Node=o;var c=(function(t){e(l,t);function l(p){var E=t.call(this)||this;return E.data=p,E}return Object.defineProperty(l.prototype,"nodeValue",{get:function(){return this.data},set:function(p){this.data=p},enumerable:!1,configurable:!0}),l})(o);k.DataNode=c;var f=(function(t){e(l,t);function l(){var p=t!==null&&t.apply(this,arguments)||this;return p.type=s.ElementType.Text,p}return Object.defineProperty(l.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),l})(c);k.Text=f;var y=(function(t){e(l,t);function l(){var p=t!==null&&t.apply(this,arguments)||this;return p.type=s.ElementType.Comment,p}return Object.defineProperty(l.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),l})(c);k.Comment=y;var u=(function(t){e(l,t);function l(p,E){var A=t.call(this,E)||this;return A.name=p,A.type=s.ElementType.Directive,A}return Object.defineProperty(l.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),l})(c);k.ProcessingInstruction=u;var a=(function(t){e(l,t);function l(p){var E=t.call(this)||this;return E.children=p,E}return Object.defineProperty(l.prototype,"firstChild",{get:function(){var p;return(p=this.children[0])!==null&&p!==void 0?p:null},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"childNodes",{get:function(){return this.children},set:function(p){this.children=p},enumerable:!1,configurable:!0}),l})(o);k.NodeWithChildren=a;var i=(function(t){e(l,t);function l(){var p=t!==null&&t.apply(this,arguments)||this;return p.type=s.ElementType.CDATA,p}return Object.defineProperty(l.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),l})(a);k.CDATA=i;var d=(function(t){e(l,t);function l(){var p=t!==null&&t.apply(this,arguments)||this;return p.type=s.ElementType.Root,p}return Object.defineProperty(l.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),l})(a);k.Document=d;var h=(function(t){e(l,t);function l(p,E,A,D){A===void 0&&(A=[]),D===void 0&&(D=p==="script"?s.ElementType.Script:p==="style"?s.ElementType.Style:s.ElementType.Tag);var L=t.call(this,A)||this;return L.name=p,L.attribs=E,L.type=D,L}return Object.defineProperty(l.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"tagName",{get:function(){return this.name},set:function(p){this.name=p},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"attributes",{get:function(){var p=this;return Object.keys(this.attribs).map(function(E){var A,D;return{name:E,value:p.attribs[E],namespace:(A=p["x-attribsNamespace"])===null||A===void 0?void 0:A[E],prefix:(D=p["x-attribsPrefix"])===null||D===void 0?void 0:D[E]}})},enumerable:!1,configurable:!0}),l})(a);k.Element=h;function _(t){return(0,s.isTag)(t)}k.isTag=_;function S(t){return t.type===s.ElementType.CDATA}k.isCDATA=S;function x(t){return t.type===s.ElementType.Text}k.isText=x;function b(t){return t.type===s.ElementType.Comment}k.isComment=b;function T(t){return t.type===s.ElementType.Directive}k.isDirective=T;function R(t){return t.type===s.ElementType.Root}k.isDocument=R;function v(t){return Object.prototype.hasOwnProperty.call(t,"children")}k.hasChildren=v;function w(t,l){l===void 0&&(l=!1);var p;if(x(t))p=new f(t.data);else if(b(t))p=new y(t.data);else if(_(t)){var E=l?O(t.children):[],A=new h(t.name,r({},t.attribs),E);E.forEach(function(P){return P.parent=A}),t.namespace!=null&&(A.namespace=t.namespace),t["x-attribsNamespace"]&&(A["x-attribsNamespace"]=r({},t["x-attribsNamespace"])),t["x-attribsPrefix"]&&(A["x-attribsPrefix"]=r({},t["x-attribsPrefix"])),p=A}else if(S(t)){var E=l?O(t.children):[],D=new i(E);E.forEach(function(I){return I.parent=D}),p=D}else if(R(t)){var E=l?O(t.children):[],L=new d(E);E.forEach(function(I){return I.parent=L}),t["x-mode"]&&(L["x-mode"]=t["x-mode"]),p=L}else if(T(t)){var G=new u(t.name,t.data);t["x-name"]!=null&&(G["x-name"]=t["x-name"],G["x-publicId"]=t["x-publicId"],G["x-systemId"]=t["x-systemId"]),p=G}else throw new Error("Not implemented yet: ".concat(t.type));return p.startIndex=t.startIndex,p.endIndex=t.endIndex,t.sourceCodeLocation!=null&&(p.sourceCodeLocation=t.sourceCodeLocation),p}k.cloneNode=w;function O(t){for(var l=t.map(function(E){return w(E,!0)}),p=1;p<l.length;p++)l[p].prev=l[p-1],l[p-1].next=l[p];return l}return k}var Jt;function Mn(){return Jt||(Jt=1,(function(e){var r=fe&&fe.__createBinding||(Object.create?(function(u,a,i,d){d===void 0&&(d=i);var h=Object.getOwnPropertyDescriptor(a,i);(!h||("get"in h?!a.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(u,d,h)}):(function(u,a,i,d){d===void 0&&(d=i),u[d]=a[i]})),s=fe&&fe.__exportStar||function(u,a){for(var i in u)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&r(a,u,i)};Object.defineProperty(e,"__esModule",{value:!0}),e.DomHandler=void 0;var o=On(),c=Qt();s(Qt(),e);var f={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},y=(function(){function u(a,i,d){this.dom=[],this.root=new c.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof i=="function"&&(d=i,i=f),typeof a=="object"&&(i=a,a=void 0),this.callback=a??null,this.options=i??f,this.elementCB=d??null}return u.prototype.onparserinit=function(a){this.parser=a},u.prototype.onreset=function(){this.dom=[],this.root=new c.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},u.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},u.prototype.onerror=function(a){this.handleCallback(a)},u.prototype.onclosetag=function(){this.lastNode=null;var a=this.tagStack.pop();this.options.withEndIndices&&(a.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(a)},u.prototype.onopentag=function(a,i){var d=this.options.xmlMode?o.ElementType.Tag:void 0,h=new c.Element(a,i,void 0,d);this.addNode(h),this.tagStack.push(h)},u.prototype.ontext=function(a){var i=this.lastNode;if(i&&i.type===o.ElementType.Text)i.data+=a,this.options.withEndIndices&&(i.endIndex=this.parser.endIndex);else{var d=new c.Text(a);this.addNode(d),this.lastNode=d}},u.prototype.oncomment=function(a){if(this.lastNode&&this.lastNode.type===o.ElementType.Comment){this.lastNode.data+=a;return}var i=new c.Comment(a);this.addNode(i),this.lastNode=i},u.prototype.oncommentend=function(){this.lastNode=null},u.prototype.oncdatastart=function(){var a=new c.Text(""),i=new c.CDATA([a]);this.addNode(i),a.parent=i,this.lastNode=a},u.prototype.oncdataend=function(){this.lastNode=null},u.prototype.onprocessinginstruction=function(a,i){var d=new c.ProcessingInstruction(a,i);this.addNode(d)},u.prototype.handleCallback=function(a){if(typeof this.callback=="function")this.callback(a,this.dom);else if(a)throw a},u.prototype.addNode=function(a){var i=this.tagStack[this.tagStack.length-1],d=i.children[i.children.length-1];this.options.withStartIndices&&(a.startIndex=this.parser.startIndex),this.options.withEndIndices&&(a.endIndex=this.parser.endIndex),i.children.push(a),d&&(a.prev=d,d.next=a),a.parent=i,this.lastNode=null},u})();e.DomHandler=y,e.default=y})(fe)),fe}var ut={},en;function pr(){return en||(en=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CARRIAGE_RETURN_PLACEHOLDER_REGEX=e.CARRIAGE_RETURN_PLACEHOLDER=e.CARRIAGE_RETURN_REGEX=e.CARRIAGE_RETURN=e.CASE_SENSITIVE_TAG_NAMES_MAP=e.CASE_SENSITIVE_TAG_NAMES=void 0,e.CASE_SENSITIVE_TAG_NAMES=["animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","linearGradient","radialGradient","textPath"],e.CASE_SENSITIVE_TAG_NAMES_MAP=e.CASE_SENSITIVE_TAG_NAMES.reduce(function(r,s){return r[s.toLowerCase()]=s,r},{}),e.CARRIAGE_RETURN="\r",e.CARRIAGE_RETURN_REGEX=new RegExp(e.CARRIAGE_RETURN,"g"),e.CARRIAGE_RETURN_PLACEHOLDER="__HTML_DOM_PARSER_CARRIAGE_RETURN_PLACEHOLDER_".concat(Date.now(),"__"),e.CARRIAGE_RETURN_PLACEHOLDER_REGEX=new RegExp(e.CARRIAGE_RETURN_PLACEHOLDER,"g")})(ut)),ut}var tn;function In(){if(tn)return ue;tn=1,Object.defineProperty(ue,"__esModule",{value:!0}),ue.formatAttributes=o,ue.escapeSpecialCharacters=f,ue.revertEscapedCharacters=y,ue.formatDOM=u;var e=Mn(),r=pr();function s(a){return r.CASE_SENSITIVE_TAG_NAMES_MAP[a]}function o(a){for(var i={},d=0,h=a.length;d<h;d++){var _=a[d];i[_.name]=_.value}return i}function c(a){a=a.toLowerCase();var i=s(a);return i||a}function f(a){return a.replace(r.CARRIAGE_RETURN_REGEX,r.CARRIAGE_RETURN_PLACEHOLDER)}function y(a){return a.replace(r.CARRIAGE_RETURN_PLACEHOLDER_REGEX,r.CARRIAGE_RETURN)}function u(a,i,d){i===void 0&&(i=null);for(var h=[],_,S=0,x=a.length;S<x;S++){var b=a[S];switch(b.nodeType){case 1:{var T=c(b.nodeName);_=new e.Element(T,o(b.attributes)),_.children=u(T==="template"?b.content.childNodes:b.childNodes,_);break}case 3:_=new e.Text(y(b.nodeValue));break;case 8:_=new e.Comment(b.nodeValue);break;default:continue}var R=h[S-1]||null;R&&(R.next=_),_.parent=i,_.prev=R,_.next=null,h.push(_)}return d&&(_=new e.ProcessingInstruction(d.substring(0,d.indexOf(" ")).toLowerCase(),d),_.next=h[0]||null,_.parent=i,h.unshift(_),h[1]&&(h[1].prev=h[0])),h}return ue}var nn;function mr(){if(nn)return Ve;nn=1,Object.defineProperty(Ve,"__esModule",{value:!0}),Ve.default=b;var e=In(),r="html",s="head",o="body",c=/<([a-zA-Z]+[0-9]?)/,f=/<head[^]*>/i,y=/<body[^]*>/i,u=function(T,R){throw new Error("This browser does not support `document.implementation.createHTMLDocument`")},a=function(T,R){throw new Error("This browser does not support `DOMParser.prototype.parseFromString`")},i=typeof window=="object"&&window.DOMParser;if(typeof i=="function"){var d=new i,h="text/html";a=function(T,R){return R&&(T="<".concat(R,">").concat(T,"</").concat(R,">")),d.parseFromString(T,h)},u=a}if(typeof document=="object"&&document.implementation){var _=document.implementation.createHTMLDocument();u=function(T,R){if(R){var v=_.documentElement.querySelector(R);return v&&(v.innerHTML=T),_}return _.documentElement.innerHTML=T,_}}var S=typeof document=="object"&&document.createElement("template"),x;S&&S.content&&(x=function(T){return S.innerHTML=T,S.content.childNodes});function b(T){var R,v;T=(0,e.escapeSpecialCharacters)(T);var w=T.match(c),O=w&&w[1]?w[1].toLowerCase():"";switch(O){case r:{var t=a(T);if(!f.test(T)){var l=t.querySelector(s);(R=l?.parentNode)===null||R===void 0||R.removeChild(l)}if(!y.test(T)){var l=t.querySelector(o);(v=l?.parentNode)===null||v===void 0||v.removeChild(l)}return t.querySelectorAll(r)}case s:case o:{var p=u(T).querySelectorAll(O);return y.test(T)&&f.test(T)?p[0].parentNode.childNodes:p}default:{if(x)return x(T);var l=u(T,o).querySelector(o);return l.childNodes}}}return Ve}var rn;function hr(){if(rn)return _e;rn=1;var e=_e&&_e.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=c;var r=e(mr()),s=In(),o=/<(![a-zA-Z\s]+)>/;function c(f){if(typeof f!="string")throw new TypeError("First argument must be a string");if(!f)return[];var y=f.match(o),u=y?y[1]:void 0;return(0,s.formatDOM)((0,r.default)(f),null,u)}return _e}var $e={},J={},we={},an;function gr(){if(an)return we;an=1;var e=0;we.SAME=e;var r=1;return we.CAMELCASE=r,we.possibleStandardNames={accept:0,acceptCharset:1,"accept-charset":"acceptCharset",accessKey:1,action:0,allowFullScreen:1,alt:0,as:0,async:0,autoCapitalize:1,autoComplete:1,autoCorrect:1,autoFocus:1,autoPlay:1,autoSave:1,capture:0,cellPadding:1,cellSpacing:1,challenge:0,charSet:1,checked:0,children:0,cite:0,class:"className",classID:1,className:1,cols:0,colSpan:1,content:0,contentEditable:1,contextMenu:1,controls:0,controlsList:1,coords:0,crossOrigin:1,dangerouslySetInnerHTML:1,data:0,dateTime:1,default:0,defaultChecked:1,defaultValue:1,defer:0,dir:0,disabled:0,disablePictureInPicture:1,disableRemotePlayback:1,download:0,draggable:0,encType:1,enterKeyHint:1,for:"htmlFor",form:0,formMethod:1,formAction:1,formEncType:1,formNoValidate:1,formTarget:1,frameBorder:1,headers:0,height:0,hidden:0,high:0,href:0,hrefLang:1,htmlFor:1,httpEquiv:1,"http-equiv":"httpEquiv",icon:0,id:0,innerHTML:1,inputMode:1,integrity:0,is:0,itemID:1,itemProp:1,itemRef:1,itemScope:1,itemType:1,keyParams:1,keyType:1,kind:0,label:0,lang:0,list:0,loop:0,low:0,manifest:0,marginWidth:1,marginHeight:1,max:0,maxLength:1,media:0,mediaGroup:1,method:0,min:0,minLength:1,multiple:0,muted:0,name:0,noModule:1,nonce:0,noValidate:1,open:0,optimum:0,pattern:0,placeholder:0,playsInline:1,poster:0,preload:0,profile:0,radioGroup:1,readOnly:1,referrerPolicy:1,rel:0,required:0,reversed:0,role:0,rows:0,rowSpan:1,sandbox:0,scope:0,scoped:0,scrolling:0,seamless:0,selected:0,shape:0,size:0,sizes:0,span:0,spellCheck:1,src:0,srcDoc:1,srcLang:1,srcSet:1,start:0,step:0,style:0,summary:0,tabIndex:1,target:0,title:0,type:0,useMap:1,value:0,width:0,wmode:0,wrap:0,about:0,accentHeight:1,"accent-height":"accentHeight",accumulate:0,additive:0,alignmentBaseline:1,"alignment-baseline":"alignmentBaseline",allowReorder:1,alphabetic:0,amplitude:0,arabicForm:1,"arabic-form":"arabicForm",ascent:0,attributeName:1,attributeType:1,autoReverse:1,azimuth:0,baseFrequency:1,baselineShift:1,"baseline-shift":"baselineShift",baseProfile:1,bbox:0,begin:0,bias:0,by:0,calcMode:1,capHeight:1,"cap-height":"capHeight",clip:0,clipPath:1,"clip-path":"clipPath",clipPathUnits:1,clipRule:1,"clip-rule":"clipRule",color:0,colorInterpolation:1,"color-interpolation":"colorInterpolation",colorInterpolationFilters:1,"color-interpolation-filters":"colorInterpolationFilters",colorProfile:1,"color-profile":"colorProfile",colorRendering:1,"color-rendering":"colorRendering",contentScriptType:1,contentStyleType:1,cursor:0,cx:0,cy:0,d:0,datatype:0,decelerate:0,descent:0,diffuseConstant:1,direction:0,display:0,divisor:0,dominantBaseline:1,"dominant-baseline":"dominantBaseline",dur:0,dx:0,dy:0,edgeMode:1,elevation:0,enableBackground:1,"enable-background":"enableBackground",end:0,exponent:0,externalResourcesRequired:1,fill:0,fillOpacity:1,"fill-opacity":"fillOpacity",fillRule:1,"fill-rule":"fillRule",filter:0,filterRes:1,filterUnits:1,floodOpacity:1,"flood-opacity":"floodOpacity",floodColor:1,"flood-color":"floodColor",focusable:0,fontFamily:1,"font-family":"fontFamily",fontSize:1,"font-size":"fontSize",fontSizeAdjust:1,"font-size-adjust":"fontSizeAdjust",fontStretch:1,"font-stretch":"fontStretch",fontStyle:1,"font-style":"fontStyle",fontVariant:1,"font-variant":"fontVariant",fontWeight:1,"font-weight":"fontWeight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:1,"glyph-name":"glyphName",glyphOrientationHorizontal:1,"glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphOrientationVertical:1,"glyph-orientation-vertical":"glyphOrientationVertical",glyphRef:1,gradientTransform:1,gradientUnits:1,hanging:0,horizAdvX:1,"horiz-adv-x":"horizAdvX",horizOriginX:1,"horiz-origin-x":"horizOriginX",ideographic:0,imageRendering:1,"image-rendering":"imageRendering",in2:0,in:0,inlist:0,intercept:0,k1:0,k2:0,k3:0,k4:0,k:0,kernelMatrix:1,kernelUnitLength:1,kerning:0,keyPoints:1,keySplines:1,keyTimes:1,lengthAdjust:1,letterSpacing:1,"letter-spacing":"letterSpacing",lightingColor:1,"lighting-color":"lightingColor",limitingConeAngle:1,local:0,markerEnd:1,"marker-end":"markerEnd",markerHeight:1,markerMid:1,"marker-mid":"markerMid",markerStart:1,"marker-start":"markerStart",markerUnits:1,markerWidth:1,mask:0,maskContentUnits:1,maskUnits:1,mathematical:0,mode:0,numOctaves:1,offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:1,"overline-position":"overlinePosition",overlineThickness:1,"overline-thickness":"overlineThickness",paintOrder:1,"paint-order":"paintOrder",panose1:0,"panose-1":"panose1",pathLength:1,patternContentUnits:1,patternTransform:1,patternUnits:1,pointerEvents:1,"pointer-events":"pointerEvents",points:0,pointsAtX:1,pointsAtY:1,pointsAtZ:1,prefix:0,preserveAlpha:1,preserveAspectRatio:1,primitiveUnits:1,property:0,r:0,radius:0,refX:1,refY:1,renderingIntent:1,"rendering-intent":"renderingIntent",repeatCount:1,repeatDur:1,requiredExtensions:1,requiredFeatures:1,resource:0,restart:0,result:0,results:0,rotate:0,rx:0,ry:0,scale:0,security:0,seed:0,shapeRendering:1,"shape-rendering":"shapeRendering",slope:0,spacing:0,specularConstant:1,specularExponent:1,speed:0,spreadMethod:1,startOffset:1,stdDeviation:1,stemh:0,stemv:0,stitchTiles:1,stopColor:1,"stop-color":"stopColor",stopOpacity:1,"stop-opacity":"stopOpacity",strikethroughPosition:1,"strikethrough-position":"strikethroughPosition",strikethroughThickness:1,"strikethrough-thickness":"strikethroughThickness",string:0,stroke:0,strokeDasharray:1,"stroke-dasharray":"strokeDasharray",strokeDashoffset:1,"stroke-dashoffset":"strokeDashoffset",strokeLinecap:1,"stroke-linecap":"strokeLinecap",strokeLinejoin:1,"stroke-linejoin":"strokeLinejoin",strokeMiterlimit:1,"stroke-miterlimit":"strokeMiterlimit",strokeWidth:1,"stroke-width":"strokeWidth",strokeOpacity:1,"stroke-opacity":"strokeOpacity",suppressContentEditableWarning:1,suppressHydrationWarning:1,surfaceScale:1,systemLanguage:1,tableValues:1,targetX:1,targetY:1,textAnchor:1,"text-anchor":"textAnchor",textDecoration:1,"text-decoration":"textDecoration",textLength:1,textRendering:1,"text-rendering":"textRendering",to:0,transform:0,typeof:0,u1:0,u2:0,underlinePosition:1,"underline-position":"underlinePosition",underlineThickness:1,"underline-thickness":"underlineThickness",unicode:0,unicodeBidi:1,"unicode-bidi":"unicodeBidi",unicodeRange:1,"unicode-range":"unicodeRange",unitsPerEm:1,"units-per-em":"unitsPerEm",unselectable:0,vAlphabetic:1,"v-alphabetic":"vAlphabetic",values:0,vectorEffect:1,"vector-effect":"vectorEffect",version:0,vertAdvY:1,"vert-adv-y":"vertAdvY",vertOriginX:1,"vert-origin-x":"vertOriginX",vertOriginY:1,"vert-origin-y":"vertOriginY",vHanging:1,"v-hanging":"vHanging",vIdeographic:1,"v-ideographic":"vIdeographic",viewBox:1,viewTarget:1,visibility:0,vMathematical:1,"v-mathematical":"vMathematical",vocab:0,widths:0,wordSpacing:1,"word-spacing":"wordSpacing",writingMode:1,"writing-mode":"writingMode",x1:0,x2:0,x:0,xChannelSelector:1,xHeight:1,"x-height":"xHeight",xlinkActuate:1,"xlink:actuate":"xlinkActuate",xlinkArcrole:1,"xlink:arcrole":"xlinkArcrole",xlinkHref:1,"xlink:href":"xlinkHref",xlinkRole:1,"xlink:role":"xlinkRole",xlinkShow:1,"xlink:show":"xlinkShow",xlinkTitle:1,"xlink:title":"xlinkTitle",xlinkType:1,"xlink:type":"xlinkType",xmlBase:1,"xml:base":"xmlBase",xmlLang:1,"xml:lang":"xmlLang",xmlns:0,"xml:space":"xmlSpace",xmlnsXlink:1,"xmlns:xlink":"xmlnsXlink",xmlSpace:1,y1:0,y2:0,y:0,yChannelSelector:1,z:0,zoomAndPan:1},we}var on;function vr(){if(on)return J;on=1;const e=0,r=1,s=2,o=3,c=4,f=5,y=6;function u(t){return i.hasOwnProperty(t)?i[t]:null}function a(t,l,p,E,A,D,L){this.acceptsBooleans=l===s||l===o||l===c,this.attributeName=E,this.attributeNamespace=A,this.mustUseProperty=p,this.propertyName=t,this.type=l,this.sanitizeURL=D,this.removeEmptyString=L}const i={};["children","dangerouslySetInnerHTML","defaultValue","defaultChecked","innerHTML","suppressContentEditableWarning","suppressHydrationWarning","style"].forEach(t=>{i[t]=new a(t,e,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(([t,l])=>{i[t]=new a(t,r,!1,l,null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(t=>{i[t]=new a(t,s,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(t=>{i[t]=new a(t,s,!1,t,null,!1,!1)}),["allowFullScreen","async","autoFocus","autoPlay","controls","default","defer","disabled","disablePictureInPicture","disableRemotePlayback","formNoValidate","hidden","loop","noModule","noValidate","open","playsInline","readOnly","required","reversed","scoped","seamless","itemScope"].forEach(t=>{i[t]=new a(t,o,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(t=>{i[t]=new a(t,o,!0,t,null,!1,!1)}),["capture","download"].forEach(t=>{i[t]=new a(t,c,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(t=>{i[t]=new a(t,y,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(t=>{i[t]=new a(t,f,!1,t.toLowerCase(),null,!1,!1)});const h=/[\-\:]([a-z])/g,_=t=>t[1].toUpperCase();["accent-height","alignment-baseline","arabic-form","baseline-shift","cap-height","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","horiz-adv-x","horiz-origin-x","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overline-position","overline-thickness","paint-order","panose-1","pointer-events","rendering-intent","shape-rendering","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","underline-position","underline-thickness","unicode-bidi","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","vector-effect","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","writing-mode","xmlns:xlink","x-height"].forEach(t=>{const l=t.replace(h,_);i[l]=new a(l,r,!1,t,null,!1,!1)}),["xlink:actuate","xlink:arcrole","xlink:role","xlink:show","xlink:title","xlink:type"].forEach(t=>{const l=t.replace(h,_);i[l]=new a(l,r,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(t=>{const l=t.replace(h,_);i[l]=new a(l,r,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(t=>{i[t]=new a(t,r,!1,t.toLowerCase(),null,!1,!1)});const S="xlinkHref";i[S]=new a("xlinkHref",r,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(t=>{i[t]=new a(t,r,!1,t.toLowerCase(),null,!0,!0)});const{CAMELCASE:x,SAME:b,possibleStandardNames:T}=gr(),v=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD"+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",w=RegExp.prototype.test.bind(new RegExp("^(data|aria)-["+v+"]*$")),O=Object.keys(T).reduce((t,l)=>{const p=T[l];return p===b?t[l]=l:p===x?t[l.toLowerCase()]=l:t[l]=p,t},{});return J.BOOLEAN=o,J.BOOLEANISH_STRING=s,J.NUMERIC=f,J.OVERLOADED_BOOLEAN=c,J.POSITIVE_NUMERIC=y,J.RESERVED=e,J.STRING=r,J.getPropertyInfo=u,J.isCustomAttribute=w,J.possibleStandardNames=O,J}var Ne={},ye={},ft,sn;function Er(){if(sn)return ft;sn=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,r=/\n/g,s=/^\s*/,o=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,c=/^:\s*/,f=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,y=/^[;\s]*/,u=/^\s+|\s+$/g,a=`
`,i="/",d="*",h="",_="comment",S="declaration";ft=function(b,T){if(typeof b!="string")throw new TypeError("First argument must be a string");if(!b)return[];T=T||{};var R=1,v=1;function w(P){var I=P.match(r);I&&(R+=I.length);var Q=P.lastIndexOf(a);v=~Q?P.length-Q:v+P.length}function O(){var P={line:R,column:v};return function(I){return I.position=new t(P),E(),I}}function t(P){this.start=P,this.end={line:R,column:v},this.source=T.source}t.prototype.content=b;function l(P){var I=new Error(T.source+":"+R+":"+v+": "+P);if(I.reason=P,I.filename=T.source,I.line=R,I.column=v,I.source=b,!T.silent)throw I}function p(P){var I=P.exec(b);if(I){var Q=I[0];return w(Q),b=b.slice(Q.length),I}}function E(){p(s)}function A(P){var I;for(P=P||[];I=D();)I!==!1&&P.push(I);return P}function D(){var P=O();if(!(i!=b.charAt(0)||d!=b.charAt(1))){for(var I=2;h!=b.charAt(I)&&(d!=b.charAt(I)||i!=b.charAt(I+1));)++I;if(I+=2,h===b.charAt(I-1))return l("End of comment missing");var Q=b.slice(2,I-2);return v+=2,w(Q),b=b.slice(I),v+=2,P({type:_,comment:Q})}}function L(){var P=O(),I=p(o);if(I){if(D(),!p(c))return l("property missing ':'");var Q=p(f),Ze=P({type:S,property:x(I[0].replace(e,h)),value:Q?x(Q[0].replace(e,h)):h});return p(y),Ze}}function G(){var P=[];A(P);for(var I;I=L();)I!==!1&&(P.push(I),A(P));return P}return E(),G()};function x(b){return b?b.replace(u,h):h}return ft}var ln;function _r(){if(ln)return ye;ln=1;var e=ye&&ye.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(ye,"__esModule",{value:!0}),ye.default=s;var r=e(Er());function s(o,c){var f=null;if(!o||typeof o!="string")return f;var y=(0,r.default)(o),u=typeof c=="function";return y.forEach(function(a){if(a.type==="declaration"){var i=a.property,d=a.value;u?c(i,d,a):d&&(f=f||{},f[i]=d)}}),f}return ye}var Ce={},cn;function yr(){if(cn)return Ce;cn=1,Object.defineProperty(Ce,"__esModule",{value:!0}),Ce.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,r=/-([a-z])/g,s=/^[^-]+$/,o=/^-(webkit|moz|ms|o|khtml)-/,c=/^-(ms)-/,f=function(i){return!i||s.test(i)||e.test(i)},y=function(i,d){return d.toUpperCase()},u=function(i,d){return"".concat(d,"-")},a=function(i,d){return d===void 0&&(d={}),f(i)?i:(i=i.toLowerCase(),d.reactCompat?i=i.replace(c,u):i=i.replace(o,u),i.replace(r,y))};return Ce.camelCase=a,Ce}var Oe,un;function Tr(){if(un)return Oe;un=1;var e=Oe&&Oe.__importDefault||function(c){return c&&c.__esModule?c:{default:c}},r=e(_r()),s=yr();function o(c,f){var y={};return!c||typeof c!="string"||(0,r.default)(c,function(u,a){u&&a&&(y[(0,s.camelCase)(u,f)]=a)}),y}return o.default=o,Oe=o,Oe}var fn;function Ln(){return fn||(fn=1,(function(e){var r=Ne&&Ne.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(e,"__esModule",{value:!0}),e.returnFirstArg=e.canTextBeChildOfNode=e.ELEMENTS_WITH_NO_TEXT_CHILDREN=e.PRESERVE_CUSTOM_ATTRIBUTES=void 0,e.isCustomComponent=f,e.setStyleProp=u;var s=Sn(),o=r(Tr()),c=new Set(["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"]);function f(d,h){return d.includes("-")?!c.has(d):!!(h&&typeof h.is=="string")}var y={reactCompat:!0};function u(d,h){if(typeof d=="string"){if(!d.trim()){h.style={};return}try{h.style=(0,o.default)(d,y)}catch{h.style={}}}}e.PRESERVE_CUSTOM_ATTRIBUTES=Number(s.version.split(".")[0])>=16,e.ELEMENTS_WITH_NO_TEXT_CHILDREN=new Set(["tr","tbody","thead","tfoot","colgroup","table","head","html","frameset"]);var a=function(d){return!e.ELEMENTS_WITH_NO_TEXT_CHILDREN.has(d.name)};e.canTextBeChildOfNode=a;var i=function(d){return d};e.returnFirstArg=i})(Ne)),Ne}var dn;function Dn(){if(dn)return $e;dn=1,Object.defineProperty($e,"__esModule",{value:!0}),$e.default=f;var e=vr(),r=Ln(),s=["checked","value"],o=["input","select","textarea"],c={reset:!0,submit:!0};function f(u,a){u===void 0&&(u={});var i={},d=!!(u.type&&c[u.type]);for(var h in u){var _=u[h];if((0,e.isCustomAttribute)(h)){i[h]=_;continue}var S=h.toLowerCase(),x=y(S);if(x){var b=(0,e.getPropertyInfo)(x);switch(s.includes(x)&&o.includes(a)&&!d&&(x=y("default"+S)),i[x]=_,b&&b.type){case e.BOOLEAN:i[x]=!0;break;case e.OVERLOADED_BOOLEAN:_===""&&(i[x]=!0);break}continue}r.PRESERVE_CUSTOM_ATTRIBUTES&&(i[h]=_)}return(0,r.setStyleProp)(u.style,i),i}function y(u){return e.possibleStandardNames[u]}return $e}var Te={},pn;function br(){if(pn)return Te;pn=1;var e=Te&&Te.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(Te,"__esModule",{value:!0}),Te.default=f;var r=Sn(),s=e(Dn()),o=Ln(),c={cloneElement:r.cloneElement,createElement:r.createElement,isValidElement:r.isValidElement};function f(u,a){a===void 0&&(a={});for(var i=[],d=typeof a.replace=="function",h=a.transform||o.returnFirstArg,_=a.library||c,S=_.cloneElement,x=_.createElement,b=_.isValidElement,T=u.length,R=0;R<T;R++){var v=u[R];if(d){var w=a.replace(v,R);if(b(w)){T>1&&(w=S(w,{key:w.key||R})),i.push(h(w,v,R));continue}}if(v.type==="text"){var O=!v.data.trim().length;if(O&&v.parent&&!(0,o.canTextBeChildOfNode)(v.parent)||a.trim&&O)continue;i.push(h(v.data,v,R));continue}var t=v,l={};y(t)?((0,o.setStyleProp)(t.attribs.style,t.attribs),l=t.attribs):t.attribs&&(l=(0,s.default)(t.attribs,t.name));var p=void 0;switch(v.type){case"script":case"style":v.children[0]&&(l.dangerouslySetInnerHTML={__html:v.children[0].data});break;case"tag":v.name==="textarea"&&v.children[0]?l.defaultValue=v.children[0].data:v.children&&v.children.length&&(p=f(v.children,a));break;default:continue}T>1&&(l.key=R),i.push(h(x(v.name,l,p),v,R))}return i.length===1?i[0]:i}function y(u){return o.PRESERVE_CUSTOM_ATTRIBUTES&&u.type==="tag"&&(0,o.isCustomComponent)(u.name,u.attribs)}return Te}var mn;function Ar(){return mn||(mn=1,(function(e){var r=Re&&Re.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(e,"__esModule",{value:!0}),e.htmlToDOM=e.domToReact=e.attributesToProps=e.Text=e.ProcessingInstruction=e.Element=e.Comment=void 0,e.default=u;var s=r(hr());e.htmlToDOM=s.default;var o=r(Dn());e.attributesToProps=o.default;var c=r(br());e.domToReact=c.default;var f=Mn();Object.defineProperty(e,"Comment",{enumerable:!0,get:function(){return f.Comment}}),Object.defineProperty(e,"Element",{enumerable:!0,get:function(){return f.Element}}),Object.defineProperty(e,"ProcessingInstruction",{enumerable:!0,get:function(){return f.ProcessingInstruction}}),Object.defineProperty(e,"Text",{enumerable:!0,get:function(){return f.Text}});var y={lowerCaseAttributeNames:!1};function u(a,i){if(typeof a!="string")throw new TypeError("First argument must be a string");return a?(0,c.default)((0,s.default)(a,i?.htmlparser2||y),i):[]}})(Re)),Re}var Et=Ar();const hn=Kn(Et),xr=hn.default||hn;/*! @license DOMPurify 3.2.7 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.7/LICENSE */const{entries:kn,setPrototypeOf:gn,isFrozen:Sr,getPrototypeOf:Rr,getOwnPropertyDescriptor:wr}=Object;let{freeze:Y,seal:ee,create:Pn}=Object,{apply:_t,construct:yt}=typeof Reflect<"u"&&Reflect;Y||(Y=function(r){return r});ee||(ee=function(r){return r});_t||(_t=function(r,s){for(var o=arguments.length,c=new Array(o>2?o-2:0),f=2;f<o;f++)c[f-2]=arguments[f];return r.apply(s,c)});yt||(yt=function(r){for(var s=arguments.length,o=new Array(s>1?s-1:0),c=1;c<s;c++)o[c-1]=arguments[c];return new r(...o)});const We=K(Array.prototype.forEach),Nr=K(Array.prototype.lastIndexOf),vn=K(Array.prototype.pop),Me=K(Array.prototype.push),Cr=K(Array.prototype.splice),Ye=K(String.prototype.toLowerCase),dt=K(String.prototype.toString),pt=K(String.prototype.match),Ie=K(String.prototype.replace),Or=K(String.prototype.indexOf),Mr=K(String.prototype.trim),te=K(Object.prototype.hasOwnProperty),X=K(RegExp.prototype.test),Le=Ir(TypeError);function K(e){return function(r){r instanceof RegExp&&(r.lastIndex=0);for(var s=arguments.length,o=new Array(s>1?s-1:0),c=1;c<s;c++)o[c-1]=arguments[c];return _t(e,r,o)}}function Ir(e){return function(){for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return yt(e,s)}}function j(e,r){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ye;gn&&gn(e,null);let o=r.length;for(;o--;){let c=r[o];if(typeof c=="string"){const f=s(c);f!==c&&(Sr(r)||(r[o]=f),c=f)}e[c]=!0}return e}function Lr(e){for(let r=0;r<e.length;r++)te(e,r)||(e[r]=null);return e}function oe(e){const r=Pn(null);for(const[s,o]of kn(e))te(e,s)&&(Array.isArray(o)?r[s]=Lr(o):o&&typeof o=="object"&&o.constructor===Object?r[s]=oe(o):r[s]=o);return r}function De(e,r){for(;e!==null;){const o=wr(e,r);if(o){if(o.get)return K(o.get);if(typeof o.value=="function")return K(o.value)}e=Rr(e)}function s(){return null}return s}const En=Y(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),mt=Y(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","slot","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),ht=Y(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Dr=Y(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),gt=Y(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),kr=Y(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),_n=Y(["#text"]),yn=Y(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),vt=Y(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Tn=Y(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),qe=Y(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Pr=ee(/\{\{[\w\W]*|[\w\W]*\}\}/gm),jr=ee(/<%[\w\W]*|[\w\W]*%>/gm),Fr=ee(/\$\{[\w\W]*/gm),Ur=ee(/^data-[\-\w.\u00B7-\uFFFF]+$/),Hr=ee(/^aria-[\-\w]+$/),jn=ee(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),zr=ee(/^(?:\w+script|data):/i),Gr=ee(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Fn=ee(/^html$/i),Br=ee(/^[a-z][.\w]*(-[.\w]+)+$/i);var bn=Object.freeze({__proto__:null,ARIA_ATTR:Hr,ATTR_WHITESPACE:Gr,CUSTOM_ELEMENT:Br,DATA_ATTR:Ur,DOCTYPE_NAME:Fn,ERB_EXPR:jr,IS_ALLOWED_URI:jn,IS_SCRIPT_OR_DATA:zr,MUSTACHE_EXPR:Pr,TMPLIT_EXPR:Fr});const ke={element:1,text:3,progressingInstruction:7,comment:8,document:9},Vr=function(){return typeof window>"u"?null:window},$r=function(r,s){if(typeof r!="object"||typeof r.createPolicy!="function")return null;let o=null;const c="data-tt-policy-suffix";s&&s.hasAttribute(c)&&(o=s.getAttribute(c));const f="dompurify"+(o?"#"+o:"");try{return r.createPolicy(f,{createHTML(y){return y},createScriptURL(y){return y}})}catch{return console.warn("TrustedTypes policy "+f+" could not be created."),null}},An=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function Un(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Vr();const r=C=>Un(C);if(r.version="3.2.7",r.removed=[],!e||!e.document||e.document.nodeType!==ke.document||!e.Element)return r.isSupported=!1,r;let{document:s}=e;const o=s,c=o.currentScript,{DocumentFragment:f,HTMLTemplateElement:y,Node:u,Element:a,NodeFilter:i,NamedNodeMap:d=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:h,DOMParser:_,trustedTypes:S}=e,x=a.prototype,b=De(x,"cloneNode"),T=De(x,"remove"),R=De(x,"nextSibling"),v=De(x,"childNodes"),w=De(x,"parentNode");if(typeof y=="function"){const C=s.createElement("template");C.content&&C.content.ownerDocument&&(s=C.content.ownerDocument)}let O,t="";const{implementation:l,createNodeIterator:p,createDocumentFragment:E,getElementsByTagName:A}=s,{importNode:D}=o;let L=An();r.isSupported=typeof kn=="function"&&typeof w=="function"&&l&&l.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:G,ERB_EXPR:P,TMPLIT_EXPR:I,DATA_ATTR:Q,ARIA_ATTR:Ze,IS_SCRIPT_OR_DATA:Hn,ATTR_WHITESPACE:bt,CUSTOM_ELEMENT:zn}=bn;let{IS_ALLOWED_URI:At}=bn,B=null;const xt=j({},[...En,...mt,...ht,...gt,..._n]);let $=null;const St=j({},[...yn,...vt,...Tn,...qe]);let U=Object.seal(Pn(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),be=null,Qe=null,Rt=!0,Je=!0,wt=!1,Nt=!0,de=!1,je=!0,le=!1,et=!1,tt=!1,pe=!1,Fe=!1,Ue=!1,Ct=!0,Ot=!1;const Gn="user-content-";let nt=!0,Ae=!1,me={},he=null;const Mt=j({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let It=null;const Lt=j({},["audio","video","img","source","image","track"]);let rt=null;const Dt=j({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),He="http://www.w3.org/1998/Math/MathML",ze="http://www.w3.org/2000/svg",re="http://www.w3.org/1999/xhtml";let ge=re,at=!1,it=null;const Bn=j({},[He,ze,re],dt);let Ge=j({},["mi","mo","mn","ms","mtext"]),Be=j({},["annotation-xml"]);const Vn=j({},["title","style","font","a","script"]);let xe=null;const $n=["application/xhtml+xml","text/html"],Wn="text/html";let V=null,ve=null;const qn=s.createElement("form"),kt=function(n){return n instanceof RegExp||n instanceof Function},ot=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(ve&&ve===n)){if((!n||typeof n!="object")&&(n={}),n=oe(n),xe=$n.indexOf(n.PARSER_MEDIA_TYPE)===-1?Wn:n.PARSER_MEDIA_TYPE,V=xe==="application/xhtml+xml"?dt:Ye,B=te(n,"ALLOWED_TAGS")?j({},n.ALLOWED_TAGS,V):xt,$=te(n,"ALLOWED_ATTR")?j({},n.ALLOWED_ATTR,V):St,it=te(n,"ALLOWED_NAMESPACES")?j({},n.ALLOWED_NAMESPACES,dt):Bn,rt=te(n,"ADD_URI_SAFE_ATTR")?j(oe(Dt),n.ADD_URI_SAFE_ATTR,V):Dt,It=te(n,"ADD_DATA_URI_TAGS")?j(oe(Lt),n.ADD_DATA_URI_TAGS,V):Lt,he=te(n,"FORBID_CONTENTS")?j({},n.FORBID_CONTENTS,V):Mt,be=te(n,"FORBID_TAGS")?j({},n.FORBID_TAGS,V):oe({}),Qe=te(n,"FORBID_ATTR")?j({},n.FORBID_ATTR,V):oe({}),me=te(n,"USE_PROFILES")?n.USE_PROFILES:!1,Rt=n.ALLOW_ARIA_ATTR!==!1,Je=n.ALLOW_DATA_ATTR!==!1,wt=n.ALLOW_UNKNOWN_PROTOCOLS||!1,Nt=n.ALLOW_SELF_CLOSE_IN_ATTR!==!1,de=n.SAFE_FOR_TEMPLATES||!1,je=n.SAFE_FOR_XML!==!1,le=n.WHOLE_DOCUMENT||!1,pe=n.RETURN_DOM||!1,Fe=n.RETURN_DOM_FRAGMENT||!1,Ue=n.RETURN_TRUSTED_TYPE||!1,tt=n.FORCE_BODY||!1,Ct=n.SANITIZE_DOM!==!1,Ot=n.SANITIZE_NAMED_PROPS||!1,nt=n.KEEP_CONTENT!==!1,Ae=n.IN_PLACE||!1,At=n.ALLOWED_URI_REGEXP||jn,ge=n.NAMESPACE||re,Ge=n.MATHML_TEXT_INTEGRATION_POINTS||Ge,Be=n.HTML_INTEGRATION_POINTS||Be,U=n.CUSTOM_ELEMENT_HANDLING||{},n.CUSTOM_ELEMENT_HANDLING&&kt(n.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(U.tagNameCheck=n.CUSTOM_ELEMENT_HANDLING.tagNameCheck),n.CUSTOM_ELEMENT_HANDLING&&kt(n.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(U.attributeNameCheck=n.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),n.CUSTOM_ELEMENT_HANDLING&&typeof n.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(U.allowCustomizedBuiltInElements=n.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),de&&(Je=!1),Fe&&(pe=!0),me&&(B=j({},_n),$=[],me.html===!0&&(j(B,En),j($,yn)),me.svg===!0&&(j(B,mt),j($,vt),j($,qe)),me.svgFilters===!0&&(j(B,ht),j($,vt),j($,qe)),me.mathMl===!0&&(j(B,gt),j($,Tn),j($,qe))),n.ADD_TAGS&&(B===xt&&(B=oe(B)),j(B,n.ADD_TAGS,V)),n.ADD_ATTR&&($===St&&($=oe($)),j($,n.ADD_ATTR,V)),n.ADD_URI_SAFE_ATTR&&j(rt,n.ADD_URI_SAFE_ATTR,V),n.FORBID_CONTENTS&&(he===Mt&&(he=oe(he)),j(he,n.FORBID_CONTENTS,V)),nt&&(B["#text"]=!0),le&&j(B,["html","head","body"]),B.table&&(j(B,["tbody"]),delete be.tbody),n.TRUSTED_TYPES_POLICY){if(typeof n.TRUSTED_TYPES_POLICY.createHTML!="function")throw Le('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof n.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Le('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');O=n.TRUSTED_TYPES_POLICY,t=O.createHTML("")}else O===void 0&&(O=$r(S,c)),O!==null&&typeof t=="string"&&(t=O.createHTML(""));Y&&Y(n),ve=n}},Pt=j({},[...mt,...ht,...Dr]),jt=j({},[...gt,...kr]),Xn=function(n){let g=w(n);(!g||!g.tagName)&&(g={namespaceURI:ge,tagName:"template"});const N=Ye(n.tagName),F=Ye(g.tagName);return it[n.namespaceURI]?n.namespaceURI===ze?g.namespaceURI===re?N==="svg":g.namespaceURI===He?N==="svg"&&(F==="annotation-xml"||Ge[F]):!!Pt[N]:n.namespaceURI===He?g.namespaceURI===re?N==="math":g.namespaceURI===ze?N==="math"&&Be[F]:!!jt[N]:n.namespaceURI===re?g.namespaceURI===ze&&!Be[F]||g.namespaceURI===He&&!Ge[F]?!1:!jt[N]&&(Vn[N]||!Pt[N]):!!(xe==="application/xhtml+xml"&&it[n.namespaceURI]):!1},ne=function(n){Me(r.removed,{element:n});try{w(n).removeChild(n)}catch{T(n)}},ce=function(n,g){try{Me(r.removed,{attribute:g.getAttributeNode(n),from:g})}catch{Me(r.removed,{attribute:null,from:g})}if(g.removeAttribute(n),n==="is")if(pe||Fe)try{ne(g)}catch{}else try{g.setAttribute(n,"")}catch{}},Ft=function(n){let g=null,N=null;if(tt)n="<remove></remove>"+n;else{const H=pt(n,/^[\r\n\t ]+/);N=H&&H[0]}xe==="application/xhtml+xml"&&ge===re&&(n='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+n+"</body></html>");const F=O?O.createHTML(n):n;if(ge===re)try{g=new _().parseFromString(F,xe)}catch{}if(!g||!g.documentElement){g=l.createDocument(ge,"template",null);try{g.documentElement.innerHTML=at?t:F}catch{}}const q=g.body||g.documentElement;return n&&N&&q.insertBefore(s.createTextNode(N),q.childNodes[0]||null),ge===re?A.call(g,le?"html":"body")[0]:le?g.documentElement:q},Ut=function(n){return p.call(n.ownerDocument||n,n,i.SHOW_ELEMENT|i.SHOW_COMMENT|i.SHOW_TEXT|i.SHOW_PROCESSING_INSTRUCTION|i.SHOW_CDATA_SECTION,null)},st=function(n){return n instanceof h&&(typeof n.nodeName!="string"||typeof n.textContent!="string"||typeof n.removeChild!="function"||!(n.attributes instanceof d)||typeof n.removeAttribute!="function"||typeof n.setAttribute!="function"||typeof n.namespaceURI!="string"||typeof n.insertBefore!="function"||typeof n.hasChildNodes!="function")},Ht=function(n){return typeof u=="function"&&n instanceof u};function ae(C,n,g){We(C,N=>{N.call(r,n,g,ve)})}const zt=function(n){let g=null;if(ae(L.beforeSanitizeElements,n,null),st(n))return ne(n),!0;const N=V(n.nodeName);if(ae(L.uponSanitizeElement,n,{tagName:N,allowedTags:B}),je&&n.hasChildNodes()&&!Ht(n.firstElementChild)&&X(/<[/\w!]/g,n.innerHTML)&&X(/<[/\w!]/g,n.textContent)||n.nodeType===ke.progressingInstruction||je&&n.nodeType===ke.comment&&X(/<[/\w]/g,n.data))return ne(n),!0;if(!B[N]||be[N]){if(!be[N]&&Bt(N)&&(U.tagNameCheck instanceof RegExp&&X(U.tagNameCheck,N)||U.tagNameCheck instanceof Function&&U.tagNameCheck(N)))return!1;if(nt&&!he[N]){const F=w(n)||n.parentNode,q=v(n)||n.childNodes;if(q&&F){const H=q.length;for(let Z=H-1;Z>=0;--Z){const ie=b(q[Z],!0);ie.__removalCount=(n.__removalCount||0)+1,F.insertBefore(ie,R(n))}}}return ne(n),!0}return n instanceof a&&!Xn(n)||(N==="noscript"||N==="noembed"||N==="noframes")&&X(/<\/no(script|embed|frames)/i,n.innerHTML)?(ne(n),!0):(de&&n.nodeType===ke.text&&(g=n.textContent,We([G,P,I],F=>{g=Ie(g,F," ")}),n.textContent!==g&&(Me(r.removed,{element:n.cloneNode()}),n.textContent=g)),ae(L.afterSanitizeElements,n,null),!1)},Gt=function(n,g,N){if(Ct&&(g==="id"||g==="name")&&(N in s||N in qn))return!1;if(!(Je&&!Qe[g]&&X(Q,g))){if(!(Rt&&X(Ze,g))){if(!$[g]||Qe[g]){if(!(Bt(n)&&(U.tagNameCheck instanceof RegExp&&X(U.tagNameCheck,n)||U.tagNameCheck instanceof Function&&U.tagNameCheck(n))&&(U.attributeNameCheck instanceof RegExp&&X(U.attributeNameCheck,g)||U.attributeNameCheck instanceof Function&&U.attributeNameCheck(g,n))||g==="is"&&U.allowCustomizedBuiltInElements&&(U.tagNameCheck instanceof RegExp&&X(U.tagNameCheck,N)||U.tagNameCheck instanceof Function&&U.tagNameCheck(N))))return!1}else if(!rt[g]){if(!X(At,Ie(N,bt,""))){if(!((g==="src"||g==="xlink:href"||g==="href")&&n!=="script"&&Or(N,"data:")===0&&It[n])){if(!(wt&&!X(Hn,Ie(N,bt,"")))){if(N)return!1}}}}}}return!0},Bt=function(n){return n!=="annotation-xml"&&pt(n,zn)},Vt=function(n){ae(L.beforeSanitizeAttributes,n,null);const{attributes:g}=n;if(!g||st(n))return;const N={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:$,forceKeepAttr:void 0};let F=g.length;for(;F--;){const q=g[F],{name:H,namespaceURI:Z,value:ie}=q,Ee=V(H),lt=ie;let W=H==="value"?lt:Mr(lt);if(N.attrName=Ee,N.attrValue=W,N.keepAttr=!0,N.forceKeepAttr=void 0,ae(L.uponSanitizeAttribute,n,N),W=N.attrValue,Ot&&(Ee==="id"||Ee==="name")&&(ce(H,n),W=Gn+W),je&&X(/((--!?|])>)|<\/(style|title|textarea)/i,W)){ce(H,n);continue}if(Ee==="attributename"&&pt(W,"href")){ce(H,n);continue}if(N.forceKeepAttr)continue;if(!N.keepAttr){ce(H,n);continue}if(!Nt&&X(/\/>/i,W)){ce(H,n);continue}de&&We([G,P,I],Wt=>{W=Ie(W,Wt," ")});const $t=V(n.nodeName);if(!Gt($t,Ee,W)){ce(H,n);continue}if(O&&typeof S=="object"&&typeof S.getAttributeType=="function"&&!Z)switch(S.getAttributeType($t,Ee)){case"TrustedHTML":{W=O.createHTML(W);break}case"TrustedScriptURL":{W=O.createScriptURL(W);break}}if(W!==lt)try{Z?n.setAttributeNS(Z,H,W):n.setAttribute(H,W),st(n)?ne(n):vn(r.removed)}catch{ce(H,n)}}ae(L.afterSanitizeAttributes,n,null)},Yn=function C(n){let g=null;const N=Ut(n);for(ae(L.beforeSanitizeShadowDOM,n,null);g=N.nextNode();)ae(L.uponSanitizeShadowNode,g,null),zt(g),Vt(g),g.content instanceof f&&C(g.content);ae(L.afterSanitizeShadowDOM,n,null)};return r.sanitize=function(C){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},g=null,N=null,F=null,q=null;if(at=!C,at&&(C="<!-->"),typeof C!="string"&&!Ht(C))if(typeof C.toString=="function"){if(C=C.toString(),typeof C!="string")throw Le("dirty is not a string, aborting")}else throw Le("toString is not a function");if(!r.isSupported)return C;if(et||ot(n),r.removed=[],typeof C=="string"&&(Ae=!1),Ae){if(C.nodeName){const ie=V(C.nodeName);if(!B[ie]||be[ie])throw Le("root node is forbidden and cannot be sanitized in-place")}}else if(C instanceof u)g=Ft("<!---->"),N=g.ownerDocument.importNode(C,!0),N.nodeType===ke.element&&N.nodeName==="BODY"||N.nodeName==="HTML"?g=N:g.appendChild(N);else{if(!pe&&!de&&!le&&C.indexOf("<")===-1)return O&&Ue?O.createHTML(C):C;if(g=Ft(C),!g)return pe?null:Ue?t:""}g&&tt&&ne(g.firstChild);const H=Ut(Ae?C:g);for(;F=H.nextNode();)zt(F),Vt(F),F.content instanceof f&&Yn(F.content);if(Ae)return C;if(pe){if(Fe)for(q=E.call(g.ownerDocument);g.firstChild;)q.appendChild(g.firstChild);else q=g;return($.shadowroot||$.shadowrootmode)&&(q=D.call(o,q,!0)),q}let Z=le?g.outerHTML:g.innerHTML;return le&&B["!doctype"]&&g.ownerDocument&&g.ownerDocument.doctype&&g.ownerDocument.doctype.name&&X(Fn,g.ownerDocument.doctype.name)&&(Z="<!DOCTYPE "+g.ownerDocument.doctype.name+`>
`+Z),de&&We([G,P,I],ie=>{Z=Ie(Z,ie," ")}),O&&Ue?O.createHTML(Z):Z},r.setConfig=function(){let C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ot(C),et=!0},r.clearConfig=function(){ve=null,et=!1},r.isValidAttribute=function(C,n,g){ve||ot({});const N=V(C),F=V(n);return Gt(N,F,g)},r.addHook=function(C,n){typeof n=="function"&&Me(L[C],n)},r.removeHook=function(C,n){if(n!==void 0){const g=Nr(L[C],n);return g===-1?void 0:Cr(L[C],g,1)[0]}return vn(L[C])},r.removeHooks=function(C){L[C]=[]},r.removeAllHooks=function(){L=An()},r}var Wr=Un();function xn(e){if(!e)return null;const r=Wr.sanitize(e,{USE_PROFILES:{html:!0},ADD_TAGS:["tajweed"],ADD_ATTR:["class"]}),s={replace:o=>{if(o.type==="tag"&&o.name==="tajweed"){const c=o.attribs?.class||"";return m.jsx("tajweed",{className:c,children:Et.domToReact(o.children,s)})}if(o.type==="tag"&&o.name==="span"&&o.attribs?.class==="end")return m.jsx("span",{className:"end",children:Et.domToReact(o.children,s)})}};return xr(r,s)}function qr({text:e,activeVerse:r}){if(!e||!r)return null;const s=_=>/[\u0600-\u06FF]/.test(_),o=_=>_.replace(/[أإآ]/g,"ا").replace(/[ىئ]/g,"ي").replace(/ة/g,"ه").replace(/[ًٌٍَُِّْٰ]/g,"").trim().toLowerCase(),c=_=>_.trim().toLowerCase(),f=s(r),y=f?o(r):c(r),u=[];let a=e.replace(/\[([^\]]+)\]/g,(_,S)=>{const x=`__BRACKET_${u.length}__`;return u.push(S),x});const i=[];a=a.replace(/\(([^)]+)\)/g,(_,S)=>{const x=`__PAREN_${i.length}__`;return i.push(S),x});const d=/(["'])([^"']+?)\1/g;let h=a.replace(d,(_,S,x)=>{if(_.includes("style=")||_.includes("--"))return _;const b=f?o(x):c(x),T=y.length>3&&(y.includes(b)||b.includes(y));return`${S}<span style="color:${T?"var(--active-verse)":"var(--prophet-parole)"}; font-weight:${T?"bold":"normal"};">${x}</span>${S}`});return i.forEach((_,S)=>{h=h.replace(`__PAREN_${S}__`,`(${_})`)}),u.forEach((_,S)=>{h=h.replace(`__BRACKET_${S}__`,`[${_}]`)}),h=h.replace(/style="([^"]*?)(--[^";]+)[^"]*?"/g,(_,S)=>S.includes("var(")?_:`style="${S}"`),m.jsx("div",{className:"highlighted-explanation",dangerouslySetInnerHTML:{__html:h}})}const Xr=({arabicLang:e,pageVerses:r,isLoading:s,verseId:o,surahId:c,setNewState:f,chapters:y,font:u,selectedLanguage:a})=>{const i=M.useMemo(()=>e||a==="ur"?"rtl":"ltr",[e,a]),d=M.useMemo(()=>{const v=new Map(y.map(w=>[Number(w.id),w]));return w=>{const O=v.get(Number(w));return O?.translated_name?.name||O?.name_arabic||`chapter ${w}`}},[y]),h=M.useMemo(()=>e||a==="ar",[e,a]);function _(v){return Number(v.split(":")[0])}const S=v=>v.verse_number===o&&_(v.verse_key)===c,x=v=>{if(h)return u==="text_uthmani_tajweed"?m.jsx("span",{className:"verse-text-html",children:xn(v.text_uthmani_tajweed)}):m.jsx("span",{className:"verse-text-plain",children:v[u]});const w=v.translations?.[0]?.text||v[u];return m.jsx("span",{className:"verse-text-plain",children:xn(w)})},b=v=>m.jsxs("span",{className:"relative inline-block text-[var(--third)]",children:[m.jsx("span",{className:"text-2xl",children:"۝"}),m.jsx("span",{className:"absolute inset-0 flex items-center justify-center text-[13px] font-bold",children:v})]}),T=v=>{if(v.verse_number!==1)return null;const w=_(v.verse_key),O=d(w);return m.jsx("h3",{className:`${a==="ar"?"arabic-font":""} bg-[var(--bg)] max-w-[70%] lg:max-w-[50%] mx-auto text-center font-bold py-1 mb-2 mt-1 text-[var(--second)] rounded-xl`,children:O})},R=v=>{f({verse_id:v.verse_number,surah_id:_(v.verse_key)})};return s?m.jsx("div",{className:"surah-page md:text-[1.35rem] p-2 rounded-lg bg-[var(--primary-bg)]",children:m.jsx("div",{className:"flex justify-center items-center py-8",children:m.jsx("div",{className:"loader"})})}):m.jsx("div",{className:`${e?"md:text-[1.45rem]":"md:text-xl"} surah-page text-lg p-2 rounded-lg bg-[var(--primary-bg)]`,children:m.jsx("div",{dir:i,className:"text-center leading-normal",children:r.map(v=>m.jsxs("span",{children:[T(v),m.jsxs("span",{className:"hover:cursor-pointer",onClick:()=>R(v),children:[m.jsxs("span",{className:`hover:underline ${S(v)?"text-[var(--active-verse)]":"text-[var(--verse)]"}`,children:[" ",x(v)," "]}),m.jsxs("span",{children:[" ",b(v.verse_number)," "]})]})]},v.id))})})},Yr=({t:e,lastVerse:r,arabicLang:s,setArabicLang:o})=>{const c=z(t=>t.current_state.surah_id),f=z(t=>t.current_state.page_id),y=z(t=>t.current_state.verse_id),u=z(t=>t.updateCurrentState),a=z(t=>t.decreasePageId),i=z(t=>t.increasePageId),d=z(t=>t.quranFont),h=Tt(t=>t.selectedLanguageName),{pageVerses:_,isLoading:S}=dr(f,c,y,u,h),{chapters:x}=wn(h),{textDirection:b}=Nn(h,s),T=M.useMemo(()=>f===604,[f]),R=M.useMemo(()=>f===1,[f]),v=M.useMemo(()=>Yt(r),[r]),w=M.useMemo(()=>Yt(604),[]),O=M.useMemo(()=>fr(x,h),[x]);return m.jsxs("div",{className:"surah-page-containter rounded-2xl space-y-2 py-2 px-4 bg-[var(--light-bg)]",children:[m.jsxs("div",{className:"flex flex-wrap gap-2 sm:flex-row-reverse justify-between",children:[m.jsxs("div",{className:"surah-verse-list sm:justify-end flex justify-center gap-4",children:[m.jsx(Xe,{description:e("dropdowns.select_verse"),currentVal:{verse_id:y},data:v}),m.jsx(Xe,{description:e("dropdowns.select_chapter"),currentVal:{surah_id:c},data:O})]}),h!=="ar"&&m.jsx("div",{onClick:()=>o(!s),children:m.jsxs("p",{className:"text-center btn",children:[m.jsx(rr,{}),m.jsx("span",{className:"ml-2",children:e(s?"messages.translation":"messages.original")})]})})]}),m.jsx(Xr,{arabicLang:s,pageVerses:_,chapters:x,verseId:y,surahId:c,setNewState:u,isLoading:S,font:d,selectedLanguage:h}),m.jsxs("div",{className:"arrows text-center",children:[m.jsx(Cn,{decrease:a,increase:i,hideNext:T,hidePrevious:R,obj:{val:f},textDirection:b,tooltipNext:e("tooltip.next_page"),tooltipPrevious:e("tooltip.previous_page"),component:m.jsx(Xe,{description:e("dropdowns.select_page"),currentVal:{page_id:f},data:w})}),"   "]})]})},Kr=(e,r,s,o,c,f)=>{const[y,u]=M.useState(""),[a,i]=M.useState(o("messages.explanation_unavailable")),[d,h]=M.useState(!1),_=Tt(b=>b.selectedLanguageName),S=M.useRef(f),x=M.useRef(!1);return M.useEffect(()=>{if(!e||!r||!s)return;let b=!0;return(async()=>{h(!0);try{const[R,v]=await Promise.all([Qn(e,r,_,s),Jn(e,r,s)]);if(!b)return;i(v);const w=R.translations?.[0]?.text||R.text_imlaei_simple||R.text_uthmani||"";u(w);const O=R.page_number;O&&O!==f&&!x.current&&(x.current=!0,c({page_id:O}),setTimeout(()=>{x.current=!1},100)),S.current=f}catch(R){console.error("Failed to fetch verse data:",R),b&&i(o("messages.explanation_unavailable"))}finally{b&&h(!1)}})(),()=>{b=!1}},[r,e,s,_]),{verseText:y,explanation:a,loadingExplanation:d}},Zr=({t:e,lastVerse:r,arabicLang:s})=>{const o=z(w=>w.increaseVerseId),c=z(w=>w.decreaseVerseId),f=z(w=>w.current_state.verse_id),y=z(w=>w.current_state.surah_id),u=z(w=>w.current_state.scholar_id),a=z(w=>w.current_state.page_id),i=z(w=>w.updateCurrentState),d=Tt(w=>w.selectedLanguageName),{verseText:h,explanation:_,loadingExplanation:S}=Kr(y,f,u,e,i,a),{scholarsList:x,noTafsirForThatLang:b}=wn(d,i,u),{textDirection:T}=Nn(d,s),R=()=>y===114&&f===r,v=()=>y===1&&f===1;return m.jsxs("div",{className:"rounded-2xl space-y-2 py-2 px-4 bg-[var(--light-bg)]",children:[m.jsxs("div",{className:"bg-[var(--second-bg)] rounded-lg px-4 py-2",children:[m.jsxs("div",{className:`flex sm:justify-end items-center justify-center scholars-list
                     ${b&&"!justify-between flex-row"}`,children:[m.jsx(Pe,{content:e("messages.explanation_language_unavailable"),children:b&&m.jsx(ir,{color:"red"})}),m.jsx(Xe,{data:x,description:e("dropdowns.select_scholar"),currentVal:{scholar_id:u}})]}),m.jsxs("div",{dir:`${d==="ar"||d==="ur"?"rtl":"ltr"}`,className:"font-sans space-y-2 py-1",children:[m.jsx("h3",{className:"active-verse py-1 font-bold text-[var(--active-verse)]",children:h}),m.jsx("div",{className:"h-0.5 bg-white"}),S?m.jsx("div",{className:"loader"}):m.jsx("div",{className:"text-[var(--second)] md:text-lg",children:m.jsx(qr,{text:_,activeVerse:h})})]})]}),m.jsx("div",{className:"arrows text-center",children:m.jsx(Cn,{decrease:c,increase:o,hideNext:R(),hidePrevious:v(),obj:{val:f,surahId:y,max:r},tooltipNext:e("tooltip.next_verse"),textDirection:T,tooltipPrevious:e("tooltip.previous_verse")})})]})},ea=()=>{const{t:e}=er(),r=z(y=>y.current_state.surah_id),[s,o]=M.useState(!0),[c,f]=M.useState(null);return M.useEffect(()=>{let y=!0;return(async()=>{const a=await Rn(r);y&&a?.verses_count&&f(a.verses_count)})(),()=>{y=!1}},[r,f]),m.jsxs(m.Fragment,{children:[m.jsx(tr,{}),m.jsxs("div",{className:"space-y-4 mt-4 mb-18 max-w-[100vw] lg:max-w-[86vw] mx-auto p-2 lg:p-4",children:[m.jsx(Yr,{setArabicLang:o,arabicLang:s,t:e,lastVerse:c}),m.jsx(Zr,{arabicLang:s,t:e,lastVerse:c})]})]})};export{ea as default};
